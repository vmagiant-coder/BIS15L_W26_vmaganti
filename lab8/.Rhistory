library("tidyverse")
library("janitor")
#library("naniar")
options(scipen = 999)
fisheries_clean <- read_csv("data/fisheries_clean.csv")
names(fisheries_clean)
fisheries_clean <- fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor))
fisheries_clean %>%
distinct(country) %>%
nrow()
fisheries_clean %>%
group_by(common_name, taxonomic_code) %>%
distinct() %>%
count()
fisheries_clean %>%
filter(period == "2023") %>%
select(country, catch) %>%
group_by(country) %>%
summarize(across(where(is.numeric), ~sum(.x, na.rm=T))) %>%
arrange(desc(catch)) %>%
slice_head(n=5)
fisheries_clean %>%
filter(period == "2023") %>%
select(common_name, catch) %>%
group_by(common_name) %>%
summarize(across(where(is.numeric), ~sum(.x, na.rm=T))) %>%
arrange(desc(catch)) %>%
slice_head(n=10)
fisheries_clean %>%
filter(period == "2023" & common_name == "Alaska pollock(=Walleye poll.)") %>%
select(common_name, catch, country) %>%
group_by(country) %>%
summarize(across(where(is.numeric), ~sum(.x, na.rm=T))) %>%
arrange(desc(catch)) %>%
slice_head(n=1)
fisheries_clean %>%
select(catch, period, common_name) %>%
filter(period == 2013 | period == 2014 | period == 2015 | period == 2016 | period == 2017 | period == 2018 | period == 2019 | period == 2020 | period == 2021 | period == 2022 | period == 2023) %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
ggplot(mapping=aes(x=period)) +
geom_bar(mapping=aes(fill=period))
fisheries_clean %>%
select(catch, period, common_name) %>%
filter(period == 2013 | period == 2014 | period == 2015 | period == 2016 | period == 2017 | period == 2018 | period == 2019 | period == 2020 | period == 2021 | period == 2022 | period == 2023) %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
ggplot(mapping=aes(x=period)) +
geom_bar(mapping=aes(fill=period)) +
labs(title = "The Total Catch by Year for the Alaska Pollock", x = "Year", y = "Total Catch")
fisheries_clean %>%
select(catch, period, common_name) %>%
filter(period == 2013 | period == 2014 | period == 2015 | period == 2016 | period == 2017 | period == 2018 | period == 2019 | period == 2020 | period == 2021 | period == 2022 | period == 2023) %>%
filter(common_name == "Alaska pollock(=Walleye poll.)") %>%
ggplot(mapping=aes(x=period)) +
geom_bar(mapping=aes(fill=period)) +
labs(title = "The Total Catch by Year for the Alaska Pollock Species", x = "Year", y = "Total Catch")
names(fisheries_clean)
dim(fisheries_clean)
glimpse(fisheries_clean)
fisheries_clean <- fisheries_clean %>%
mutate(across(c(period, continent, geo_region, country, scientific_name, common_name, taxonomic_code, status), as.factor))
fisheries_clean %>%
distinct(country) %>%
nrow()
fisheries_clean %>%
group_by(common_name, taxonomic_code) %>%
distinct() %>%
count()
fisheries_clean %>%
group_by(common_name, taxonomic_code) %>%
distinct(common_name) %>%
count()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch")
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_line(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch")
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_line(mapping=aes(color=continent)) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch")
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch")
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10() +
scale_x_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10() +
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method=lm, se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_point(mapping=aes(color=continent)) +
geom_smooth(method="lm", se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch)) +
geom_line(mapping=aes(color=continent)) +
geom_smooth(method="lm", se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch, group = continent)) +
geom_line(mapping=aes(color=continent)) +
geom_smooth(method="lm", se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch, group = continent)) +
geom_smooth(method="lm", se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch, group = continent)) +
geom_line(mapping=aes(color=continent)) +
geom_smooth(method="lm", se=T) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch, group = continent)) +
geom_line(mapping=aes(color=continent)) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch") +
scale_y_log10()
fisheries_clean %>%
group_by(period, continent) %>%
summarize(total_catch = sum(catch, na.rm = T)) %>%
ggplot(aes(x=period, y = total_catch, group = continent)) +
geom_line(mapping=aes(color=continent)) +
labs(title = "Total Catch of Fish Species over Time by Continent", x = "Time Period", y = "Total Catch")
